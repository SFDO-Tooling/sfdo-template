{
  "name": "{{cookiecutter.project_name}}",
  "description": "{{cookiecutter.description}}",
  "repository": "https://github.com/{{cookiecutter.github_username}}/{{cookiecutter.project_slug}}",
  "keywords": ["ci", "python", "django", "salesforce", "github"],
  "env": {
    "DJANGO_ALLOWED_HOSTS": {
      "description": "Heroku proxies web requests and Django needs to be configured to allow the forwards",
      "value": ".herokuapp.com"
    },
    "DJANGO_ADMIN_URL": {
      "description": "The url path to the admin section of the site",
      "value": "admin"
    },
    "DJANGO_SECRET_KEY": {
      "description": "A secret key used to provide cryptographic signing",
      "generator": "secret"
    },
    "DJANGO_HASHID_SALT": {
      "description": "Salt used to hash IDs that get exposed publicly",
      "generator": "secret"
    },
    "DJANGO_SETTINGS_MODULE": {
      "description": "The site settings to use",
      "value": "config.settings.production"
    }
  },
  "formation": {
    "web": {
      "quantity": 1,
      "size": "free"
    },
    "dev_worker": {
      "quantity": 1,
      "size": "free"
    },
    "worker": {
      "quantity": 0,
      "size": "free"
    },
    "scheduler": {
      "quantity": 0,
      "size": "free"
    }
  },
  "image": "heroku/python",
  "addons": [
    "heroku-postgresql",
    "heroku-redis",{% if cookiecutter.use_bucketeer_aws_for_file_storage == 'y' %}
    "bucketeer",{% endif %}
    "newrelic",
    "sentry"
  ],
  "buildpacks": [
      {"url": "heroku/nodejs"},
      {"url": "heroku/python"}
  ],
  "scripts": {
    "postdeploy": "python manage.py migrate --noinput"
  }
}
